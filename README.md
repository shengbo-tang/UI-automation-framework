# UI-automation-framework

## UI自动化框架编写步骤及实现思路

### 一、PO设计模式基础
#### 1、新开框架
1、新建一个元素信息包element_info，存放我们的页面
login_page.py
main_page.py

2、新建login_page.py，添加属性、方法

3、新建驱动文件夹，导入驱动文件

4、新建一个main_page.py


#### 2、增加了日志模块，利于bug定位
1、在用例内部添加日志模块，打印操作日志


小结：

1、封装log_utils工具类

2、避免一行日志出现多行的情况，在log_utils.py添加了一个logger对象

---
### 二、框架第二节课

界面层：界面的元素

控件层：单独验证每个控件的功能

功能层：单个或者多个功能组合操作形成的功能

业务层：单个或多个功能形成业务

###### PO模式分层和线性脚本的比较
线性脚本：按操作取识别元素，识别一个元素操作一个，风险比较小

pageobject模式模型：先全部识别元素，然后再进行操作

####### 问题引出
pageobject模式是实例化页面之后，需要识别所有的元素，然后再去操作，可能出现元素
不能识别的元素

**处理方法**：识别数据分离，实例化对象的时候不识别元素，操作的时候再去识别。

**思路：**

1、在common中创建一个base_page.py --> BasePage 类

2、页面层元素识别方法，改为不用识别好元素，只需要识别到元素的信息

3、在BasePage类中封装元素识别方法

4、完善login_page.py中的LoginPage 继承 BasePage类

**BasePage类：浏览器操作、元素识别、元素操作（切框架、切句柄等等）**

**小结**

1、在页面类拿到元素的识别信息字典-->通过BasePage里面的元素识别方法获取一个元素-->然后再操作元素
-->在页面类里面再根据具体的业务封装操作

---
### 框架03--元素信息分离设计

**思路**：元素识别信息数据放在代码中是否好维护


**数据的类型：**

1、元素识别数据

2、配置数据（URL、路径、邮箱）

3、测试用例数据

**数据与代码的分离**

1、数据放在ini配置文件中

2、放excel表中

3、放mysql

4、放yaml文件中

**数据放Excel表中思路**

1、新建一个element_info_datas 文件夹，把元素识别的数据放Excel表中

2、步骤2：编写测试代码，读取Excel表中的数据元素识别数据

3、把读取Excel的代码封装element_data_utils.py文件中

4、步骤4：改造LoginPage，从Excel中拿元素识别数据

---
### 框架04--driver的二次封装及页面类的拆分

**要点**

1、增加了config文件夹，并在其中增加config.ini配置文件

2、封装config_utils.py读取.ini文件的底层方法

3、封装了browser.py 浏览器类，用来提取driver


